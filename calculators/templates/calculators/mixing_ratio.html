{% extends 'calculators/calculator_base.html' %}

{% block tool_name %}Karışım Oranı{% endblock %}
{% block tool_icon %}<i class="fa-solid fa-layer-group"></i>{% endblock %}
{% block header_title %}Karışım Oranı Hesaplayıcısı{% endblock %}
{% block header_desc %}İstenen toplam hacim için karışım oranlarına göre gerekli miktarları hesaplayın.{% endblock %}

{% block input_form %}
<div class="space-y-4">
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">A Bileşeni (Oran)</label>
            <input type="number" id="part-a" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Örn: 4">
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">B Bileşeni (Oran)</label>
            <input type="number" id="part-b" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Örn: 1">
        </div>
    </div>
    
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">İstenen Toplam Hacim</label>
        <div class="flex">
            <input type="number" id="total-vol" class="w-full rounded-l-lg border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500" placeholder="Örn: 500">
            <select id="unit" class="rounded-r-lg border border-l-0 border-gray-300 bg-gray-50 text-gray-500 text-sm focus:ring-blue-500 focus:border-blue-500">
                <option value="mL">mL</option>
                <option value="L">L</option>
                <option value="g">g</option>
            </select>
        </div>
    </div>

    <button onclick="calculate()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl transition transform hover:scale-[1.02] shadow-lg mt-4">
        Hesapla
    </button>
</div>

<script>
    function calculate() {
        const partA = parseFloat(document.getElementById('part-a').value);
        const partB = parseFloat(document.getElementById('part-b').value);
        const totalVol = parseFloat(document.getElementById('total-vol').value);
        const unit = document.getElementById('unit').value;
        
        if (partA && partB && totalVol) {
            const totalParts = partA + partB;
            const onePart = totalVol / totalParts;
            
            const amountA = onePart * partA;
            const amountB = onePart * partB;
            
            showResult(amountA.toFixed(1) + " : " + amountB.toFixed(1), unit + " (A : B)");
        } else {
            alert("Lütfen tüm alanları doldurunuz.");
        }
    }
</script>
{% endblock %}

{% block explanation %}
<p class="mb-4">
    <strong>Karışım Oranı</strong>, iki veya daha fazla bileşenin hangi oranlarda karıştırılacağını belirtir (Örn: 4:1 epoksi karışımı).
</p>
<p class="mb-2">Hesaplama Mantığı:</p>
<ol class="list-decimal pl-5 space-y-2 mb-4">
    <li>Toplam parça sayısı bulunur (A + B).</li>
    <li>Toplam hacim, toplam parça sayısına bölünerek "bir parça"nın miktarı bulunur.</li>
    <li>Her bileşenin oranı ile bu miktar çarpılarak gerekli hacimler bulunur.</li>
</ol>
<p>
    Örneğin, 500 mL toplam karışım için 4:1 oranı kullanılırsa:<br>
    Toplam parça = 5. Bir parça = 100 mL.<br>
    A Bileşeni = 4 x 100 = 400 mL.<br>
    B Bileşeni = 1 x 100 = 100 mL.
</p>
{% endblock %}
