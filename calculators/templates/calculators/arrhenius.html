{% extends 'calculators/calculator_base.html' %}

{% block tool_name %}Arrhenius Denklemi{% endblock %}
{% block tool_icon %}<i class="fa-solid fa-chart-line"></i>{% endblock %}
{% block header_title %}Arrhenius Denklemi{% endblock %}
{% block header_desc %}k = A·e^(−Eₐ/RT) ile hız sabiti hesapla{% endblock %}

{% block input_form %}
<div class="space-y-4">
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Ön-Üstel Faktör (A)</label>
        <input type="number" id="A" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" step="0.000001" placeholder="Örn: 1e7">
    </div>
    <div class="grid grid-cols-2 gap-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Eₐ Birimi</label>
            <select id="EaUnit" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none">
                <option value="kJmol">kJ/mol</option>
                <option value="Jmol">J/mol</option>
            </select>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Eₐ</label>
            <input type="number" id="Ea" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" step="0.0001" placeholder="Örn: 75">
        </div>
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Sıcaklık (T, K)</label>
        <input type="number" id="T" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" step="0.01" placeholder="Örn: 298.15">
    </div>
    <button onclick="calculateK()" class="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition mt-4 shadow-lg shadow-blue-200">Hesapla</button>
    <p class="text-xs text-gray-500 mt-2">k = A·exp(−Eₐ/(R·T))</p>
{% endblock %}

{% block extra_results %}
<div id="extra-results" class="mt-4"></div>
{% endblock %}

{% block info_title %}Açıklama{% endblock %}
{% block info_body %}
Arrhenius denklemi sıcaklığa bağlı hız sabitini verir. R=8.314 J·mol⁻¹·K⁻¹.
{% endblock %}

{% block specific_js %}
<script>
function calculateK(){
  const A = parseFloat(document.getElementById('A').value);
  const Ea = parseFloat(document.getElementById('Ea').value);
  const unit = document.getElementById('EaUnit').value;
  const T = parseFloat(document.getElementById('T').value);
  if (isNaN(A) || isNaN(Ea) || isNaN(T)) return;
  let EaJ = Ea;
  if (unit === 'kJmol') EaJ = Ea * 1000.0;
  const R = 8.314;
  const k = A * Math.exp(-EaJ/(R*T));
  showResult(k.toExponential(6), '');
  window.calcChartData = { type: 'bar', data: [
    { label: 'A', value: +A },
    { label: 'Eₐ (J/mol)', value: +EaJ },
    { label: 'T', value: +T },
    { label: 'k', value: +k }
  ]};
  const extra = document.getElementById('extra-results');
  extra.innerHTML = `
    <div class="mt-4 p-3 bg-gray-50 rounded-lg border border-gray-100">
      <p class="text-sm text-gray-700">Eₐ/RT: <span class="font-bold">${(EaJ/(R*T)).toFixed(4)}</span></p>
    </div>
  `;
}
</script>
{% endblock %}

