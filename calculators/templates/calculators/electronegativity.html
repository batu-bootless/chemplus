{% extends 'calculators/calculator_base.html' %}

{% block tool_name %}Elektronegatiflik{% endblock %}
{% block tool_icon %}<i class="fa-solid fa-magnet"></i>{% endblock %}
{% block header_title %}Elektronegatiflik (Mulliken){% endblock %}
{% block header_desc %}İE ve EA ile Mulliken elektronegatifliği (eV) hesapla{% endblock %}

{% block input_form %}
<div class="space-y-4">
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">İyonlaşma Enerjisi (IE, eV)</label>
        <input type="number" id="ie" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" placeholder="Örn: 13.6" step="0.0001">
    </div>
    <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Elektron İlgisi (EA, eV)</label>
        <input type="number" id="ea" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 outline-none" placeholder="Örn: 0.754" step="0.0001">
    </div>
    <button onclick="calculateEN()" class="w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition mt-4 shadow-lg shadow-blue-200">Hesapla</button>
    <p class="text-xs text-gray-500 mt-2">χₘ = (IE + EA)/2 (eV)</p>
{% endblock %}

{% block extra_results %}
<div id="extra-results" class="mt-4"></div>
{% endblock %}

{% block info_title %}Not{% endblock %}
{% block info_body %}
Mulliken elektronegatifliği eV birimindedir. Pauling ölçeğine dönüşüm farklı kaynaklarda değişir; burada eV değeri verilmektedir.
{% endblock %}

{% block specific_js %}
<script>
function calculateEN(){
  const IE = parseFloat(document.getElementById('ie').value);
  const EA = parseFloat(document.getElementById('ea').value);
  if (isNaN(IE) || isNaN(EA)) return;
  const chi = (IE + EA) / 2.0;
  showResult(chi.toFixed(4), 'eV');
  window.calcChartData = { type: 'bar', data: [
    { label: 'IE', value: +IE.toFixed(4) },
    { label: 'EA', value: +EA.toFixed(4) },
    { label: 'χₘ', value: +chi.toFixed(4) }
  ]};
  const extra = document.getElementById('extra-results');
  extra.innerHTML = `
    <div class="mt-4 p-3 bg-gray-50 rounded-lg border border-gray-100">
      <p class="text-sm text-gray-700">Mulliken χ (eV): <span class="font-bold">${chi.toFixed(4)}</span></p>
    </div>
  `;
}
</script>
{% endblock %}

